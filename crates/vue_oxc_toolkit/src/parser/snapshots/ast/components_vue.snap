---
source: crates/vue_oxc_toolkit/src/test.rs
expression: result
---
=============== Program ===============
Program {
    span: Span {
        start: 0,
        end: 265,
    },
    source_text: "<template>\n  <SomeComponent />\n  <some-component />\n  <Transition></Transition>\n  <component></component>\n  <motion.div></motion.div>\n</template>\n\n<script lang=\"ts\" setup>\nimport SomeComponent from './SomeComponent.vue';\nimport { motion } from 'motion-v'\n</script>\n",
    comments: Vec(
        [],
    ),
    hashbang: None,
    directives: Vec(
        [],
    ),
    body: Vec(
        [
            ImportDeclaration(
                ImportDeclaration {
                    span: Span {
                        start: 172,
                        end: 220,
                    },
                    specifiers: Some(
                        Vec(
                            [
                                ImportDefaultSpecifier(
                                    ImportDefaultSpecifier {
                                        span: Span {
                                            start: 179,
                                            end: 192,
                                        },
                                        local: BindingIdentifier {
                                            span: Span {
                                                start: 179,
                                                end: 192,
                                            },
                                            name: "SomeComponent",
                                            symbol_id: Cell {
                                                value: None,
                                            },
                                        },
                                    },
                                ),
                            ],
                        ),
                    ),
                    source: StringLiteral {
                        span: Span {
                            start: 198,
                            end: 219,
                        },
                        value: "./SomeComponent.vue",
                        raw: Some(
                            "'./SomeComponent.vue'",
                        ),
                        lone_surrogates: false,
                    },
                    with_clause: None,
                    phase: None,
                    import_kind: Value,
                },
            ),
            ImportDeclaration(
                ImportDeclaration {
                    span: Span {
                        start: 221,
                        end: 254,
                    },
                    specifiers: Some(
                        Vec(
                            [
                                ImportSpecifier(
                                    ImportSpecifier {
                                        span: Span {
                                            start: 230,
                                            end: 236,
                                        },
                                        imported: IdentifierName(
                                            IdentifierName {
                                                span: Span {
                                                    start: 230,
                                                    end: 236,
                                                },
                                                name: "motion",
                                            },
                                        ),
                                        local: BindingIdentifier {
                                            span: Span {
                                                start: 230,
                                                end: 236,
                                            },
                                            name: "motion",
                                            symbol_id: Cell {
                                                value: None,
                                            },
                                        },
                                        import_kind: Value,
                                    },
                                ),
                            ],
                        ),
                    ),
                    source: StringLiteral {
                        span: Span {
                            start: 244,
                            end: 254,
                        },
                        value: "motion-v",
                        raw: Some(
                            "'motion-v'",
                        ),
                        lone_surrogates: false,
                    },
                    with_clause: None,
                    phase: None,
                    import_kind: Value,
                },
            ),
            ExpressionStatement(
                ExpressionStatement {
                    span: Span {
                        start: 0,
                        end: 0,
                    },
                    expression: ArrowFunctionExpression(
                        ArrowFunctionExpression {
                            span: Span {
                                start: 0,
                                end: 0,
                            },
                            type_parameters: None,
                            params: FormalParameters {
                                span: Span {
                                    start: 0,
                                    end: 0,
                                },
                                items: Vec(
                                    [],
                                ),
                                rest: None,
                                kind: ArrowFormalParameters,
                            },
                            return_type: None,
                            body: FunctionBody {
                                span: Span {
                                    start: 0,
                                    end: 0,
                                },
                                directives: Vec(
                                    [],
                                ),
                                statements: Vec(
                                    [
                                        ExpressionStatement(
                                            ExpressionStatement {
                                                span: Span {
                                                    start: 0,
                                                    end: 0,
                                                },
                                                expression: JSXFragment(
                                                    JSXFragment {
                                                        span: Span {
                                                            start: 0,
                                                            end: 0,
                                                        },
                                                        opening_fragment: JSXOpeningFragment {
                                                            span: Span {
                                                                start: 0,
                                                                end: 0,
                                                            },
                                                        },
                                                        children: Vec(
                                                            [
                                                                Element(
                                                                    JSXElement {
                                                                        span: Span {
                                                                            start: 0,
                                                                            end: 145,
                                                                        },
                                                                        opening_element: JSXOpeningElement {
                                                                            span: Span {
                                                                                start: 0,
                                                                                end: 10,
                                                                            },
                                                                            name: Identifier(
                                                                                JSXIdentifier {
                                                                                    span: Span {
                                                                                        start: 1,
                                                                                        end: 9,
                                                                                    },
                                                                                    name: "template",
                                                                                },
                                                                            ),
                                                                            type_arguments: None,
                                                                            attributes: Vec(
                                                                                [],
                                                                            ),
                                                                        },
                                                                        children: Vec(
                                                                            [
                                                                                Text(
                                                                                    JSXText {
                                                                                        span: Span {
                                                                                            start: 10,
                                                                                            end: 13,
                                                                                        },
                                                                                        value: "\n  ",
                                                                                        raw: Some(
                                                                                            "\n  ",
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Element(
                                                                                    JSXElement {
                                                                                        span: Span {
                                                                                            start: 13,
                                                                                            end: 30,
                                                                                        },
                                                                                        opening_element: JSXOpeningElement {
                                                                                            span: Span {
                                                                                                start: 13,
                                                                                                end: 30,
                                                                                            },
                                                                                            name: IdentifierReference(
                                                                                                IdentifierReference {
                                                                                                    span: Span {
                                                                                                        start: 14,
                                                                                                        end: 27,
                                                                                                    },
                                                                                                    name: "SomeComponent",
                                                                                                    reference_id: Cell {
                                                                                                        value: None,
                                                                                                    },
                                                                                                },
                                                                                            ),
                                                                                            type_arguments: None,
                                                                                            attributes: Vec(
                                                                                                [],
                                                                                            ),
                                                                                        },
                                                                                        children: Vec(
                                                                                            [],
                                                                                        ),
                                                                                        closing_element: None,
                                                                                    },
                                                                                ),
                                                                                Text(
                                                                                    JSXText {
                                                                                        span: Span {
                                                                                            start: 30,
                                                                                            end: 33,
                                                                                        },
                                                                                        value: "\n  ",
                                                                                        raw: Some(
                                                                                            "\n  ",
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Element(
                                                                                    JSXElement {
                                                                                        span: Span {
                                                                                            start: 33,
                                                                                            end: 51,
                                                                                        },
                                                                                        opening_element: JSXOpeningElement {
                                                                                            span: Span {
                                                                                                start: 33,
                                                                                                end: 51,
                                                                                            },
                                                                                            name: IdentifierReference(
                                                                                                IdentifierReference {
                                                                                                    span: Span {
                                                                                                        start: 34,
                                                                                                        end: 48,
                                                                                                    },
                                                                                                    name: "SomeComponent",
                                                                                                    reference_id: Cell {
                                                                                                        value: None,
                                                                                                    },
                                                                                                },
                                                                                            ),
                                                                                            type_arguments: None,
                                                                                            attributes: Vec(
                                                                                                [],
                                                                                            ),
                                                                                        },
                                                                                        children: Vec(
                                                                                            [],
                                                                                        ),
                                                                                        closing_element: None,
                                                                                    },
                                                                                ),
                                                                                Text(
                                                                                    JSXText {
                                                                                        span: Span {
                                                                                            start: 51,
                                                                                            end: 54,
                                                                                        },
                                                                                        value: "\n  ",
                                                                                        raw: Some(
                                                                                            "\n  ",
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Element(
                                                                                    JSXElement {
                                                                                        span: Span {
                                                                                            start: 54,
                                                                                            end: 79,
                                                                                        },
                                                                                        opening_element: JSXOpeningElement {
                                                                                            span: Span {
                                                                                                start: 54,
                                                                                                end: 66,
                                                                                            },
                                                                                            name: IdentifierReference(
                                                                                                IdentifierReference {
                                                                                                    span: Span {
                                                                                                        start: 55,
                                                                                                        end: 65,
                                                                                                    },
                                                                                                    name: "Transition",
                                                                                                    reference_id: Cell {
                                                                                                        value: None,
                                                                                                    },
                                                                                                },
                                                                                            ),
                                                                                            type_arguments: None,
                                                                                            attributes: Vec(
                                                                                                [],
                                                                                            ),
                                                                                        },
                                                                                        children: Vec(
                                                                                            [],
                                                                                        ),
                                                                                        closing_element: Some(
                                                                                            JSXClosingElement {
                                                                                                span: Span {
                                                                                                    start: 66,
                                                                                                    end: 79,
                                                                                                },
                                                                                                name: IdentifierReference(
                                                                                                    IdentifierReference {
                                                                                                        span: Span {
                                                                                                            start: 68,
                                                                                                            end: 78,
                                                                                                        },
                                                                                                        name: "Transition",
                                                                                                        reference_id: Cell {
                                                                                                            value: None,
                                                                                                        },
                                                                                                    },
                                                                                                ),
                                                                                            },
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Text(
                                                                                    JSXText {
                                                                                        span: Span {
                                                                                            start: 79,
                                                                                            end: 82,
                                                                                        },
                                                                                        value: "\n  ",
                                                                                        raw: Some(
                                                                                            "\n  ",
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Element(
                                                                                    JSXElement {
                                                                                        span: Span {
                                                                                            start: 82,
                                                                                            end: 105,
                                                                                        },
                                                                                        opening_element: JSXOpeningElement {
                                                                                            span: Span {
                                                                                                start: 82,
                                                                                                end: 93,
                                                                                            },
                                                                                            name: IdentifierReference(
                                                                                                IdentifierReference {
                                                                                                    span: Span {
                                                                                                        start: 83,
                                                                                                        end: 92,
                                                                                                    },
                                                                                                    name: "component",
                                                                                                    reference_id: Cell {
                                                                                                        value: None,
                                                                                                    },
                                                                                                },
                                                                                            ),
                                                                                            type_arguments: None,
                                                                                            attributes: Vec(
                                                                                                [],
                                                                                            ),
                                                                                        },
                                                                                        children: Vec(
                                                                                            [],
                                                                                        ),
                                                                                        closing_element: Some(
                                                                                            JSXClosingElement {
                                                                                                span: Span {
                                                                                                    start: 93,
                                                                                                    end: 105,
                                                                                                },
                                                                                                name: IdentifierReference(
                                                                                                    IdentifierReference {
                                                                                                        span: Span {
                                                                                                            start: 95,
                                                                                                            end: 104,
                                                                                                        },
                                                                                                        name: "component",
                                                                                                        reference_id: Cell {
                                                                                                            value: None,
                                                                                                        },
                                                                                                    },
                                                                                                ),
                                                                                            },
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Text(
                                                                                    JSXText {
                                                                                        span: Span {
                                                                                            start: 105,
                                                                                            end: 108,
                                                                                        },
                                                                                        value: "\n  ",
                                                                                        raw: Some(
                                                                                            "\n  ",
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Element(
                                                                                    JSXElement {
                                                                                        span: Span {
                                                                                            start: 108,
                                                                                            end: 133,
                                                                                        },
                                                                                        opening_element: JSXOpeningElement {
                                                                                            span: Span {
                                                                                                start: 108,
                                                                                                end: 120,
                                                                                            },
                                                                                            name: MemberExpression(
                                                                                                JSXMemberExpression {
                                                                                                    span: Span {
                                                                                                        start: 109,
                                                                                                        end: 119,
                                                                                                    },
                                                                                                    object: IdentifierReference(
                                                                                                        IdentifierReference {
                                                                                                            span: Span {
                                                                                                                start: 109,
                                                                                                                end: 115,
                                                                                                            },
                                                                                                            name: "motion",
                                                                                                            reference_id: Cell {
                                                                                                                value: None,
                                                                                                            },
                                                                                                        },
                                                                                                    ),
                                                                                                    property: JSXIdentifier {
                                                                                                        span: Span {
                                                                                                            start: 116,
                                                                                                            end: 119,
                                                                                                        },
                                                                                                        name: "div",
                                                                                                    },
                                                                                                },
                                                                                            ),
                                                                                            type_arguments: None,
                                                                                            attributes: Vec(
                                                                                                [],
                                                                                            ),
                                                                                        },
                                                                                        children: Vec(
                                                                                            [],
                                                                                        ),
                                                                                        closing_element: Some(
                                                                                            JSXClosingElement {
                                                                                                span: Span {
                                                                                                    start: 120,
                                                                                                    end: 133,
                                                                                                },
                                                                                                name: MemberExpression(
                                                                                                    JSXMemberExpression {
                                                                                                        span: Span {
                                                                                                            start: 122,
                                                                                                            end: 132,
                                                                                                        },
                                                                                                        object: IdentifierReference(
                                                                                                            IdentifierReference {
                                                                                                                span: Span {
                                                                                                                    start: 109,
                                                                                                                    end: 115,
                                                                                                                },
                                                                                                                name: "motion",
                                                                                                                reference_id: Cell {
                                                                                                                    value: None,
                                                                                                                },
                                                                                                            },
                                                                                                        ),
                                                                                                        property: JSXIdentifier {
                                                                                                            span: Span {
                                                                                                                start: 116,
                                                                                                                end: 119,
                                                                                                            },
                                                                                                            name: "div",
                                                                                                        },
                                                                                                    },
                                                                                                ),
                                                                                            },
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                                Text(
                                                                                    JSXText {
                                                                                        span: Span {
                                                                                            start: 133,
                                                                                            end: 134,
                                                                                        },
                                                                                        value: "\n",
                                                                                        raw: Some(
                                                                                            "\n",
                                                                                        ),
                                                                                    },
                                                                                ),
                                                                            ],
                                                                        ),
                                                                        closing_element: Some(
                                                                            JSXClosingElement {
                                                                                span: Span {
                                                                                    start: 134,
                                                                                    end: 145,
                                                                                },
                                                                                name: Identifier(
                                                                                    JSXIdentifier {
                                                                                        span: Span {
                                                                                            start: 136,
                                                                                            end: 144,
                                                                                        },
                                                                                        name: "template",
                                                                                    },
                                                                                ),
                                                                            },
                                                                        ),
                                                                    },
                                                                ),
                                                                Text(
                                                                    JSXText {
                                                                        span: Span {
                                                                            start: 145,
                                                                            end: 147,
                                                                        },
                                                                        value: "\n\n",
                                                                        raw: Some(
                                                                            "\n\n",
                                                                        ),
                                                                    },
                                                                ),
                                                                Element(
                                                                    JSXElement {
                                                                        span: Span {
                                                                            start: 147,
                                                                            end: 264,
                                                                        },
                                                                        opening_element: JSXOpeningElement {
                                                                            span: Span {
                                                                                start: 147,
                                                                                end: 171,
                                                                            },
                                                                            name: Identifier(
                                                                                JSXIdentifier {
                                                                                    span: Span {
                                                                                        start: 148,
                                                                                        end: 154,
                                                                                    },
                                                                                    name: "script",
                                                                                },
                                                                            ),
                                                                            type_arguments: None,
                                                                            attributes: Vec(
                                                                                [
                                                                                    Attribute(
                                                                                        JSXAttribute {
                                                                                            span: Span {
                                                                                                start: 155,
                                                                                                end: 164,
                                                                                            },
                                                                                            name: Identifier(
                                                                                                JSXIdentifier {
                                                                                                    span: Span {
                                                                                                        start: 155,
                                                                                                        end: 159,
                                                                                                    },
                                                                                                    name: "lang",
                                                                                                },
                                                                                            ),
                                                                                            value: Some(
                                                                                                StringLiteral(
                                                                                                    StringLiteral {
                                                                                                        span: Span {
                                                                                                            start: 161,
                                                                                                            end: 163,
                                                                                                        },
                                                                                                        value: "ts",
                                                                                                        raw: None,
                                                                                                        lone_surrogates: false,
                                                                                                    },
                                                                                                ),
                                                                                            ),
                                                                                        },
                                                                                    ),
                                                                                    Attribute(
                                                                                        JSXAttribute {
                                                                                            span: Span {
                                                                                                start: 165,
                                                                                                end: 170,
                                                                                            },
                                                                                            name: Identifier(
                                                                                                JSXIdentifier {
                                                                                                    span: Span {
                                                                                                        start: 165,
                                                                                                        end: 170,
                                                                                                    },
                                                                                                    name: "setup",
                                                                                                },
                                                                                            ),
                                                                                            value: None,
                                                                                        },
                                                                                    ),
                                                                                ],
                                                                            ),
                                                                        },
                                                                        children: Vec(
                                                                            [],
                                                                        ),
                                                                        closing_element: Some(
                                                                            JSXClosingElement {
                                                                                span: Span {
                                                                                    start: 255,
                                                                                    end: 264,
                                                                                },
                                                                                name: Identifier(
                                                                                    JSXIdentifier {
                                                                                        span: Span {
                                                                                            start: 257,
                                                                                            end: 263,
                                                                                        },
                                                                                        name: "script",
                                                                                    },
                                                                                ),
                                                                            },
                                                                        ),
                                                                    },
                                                                ),
                                                                Text(
                                                                    JSXText {
                                                                        span: Span {
                                                                            start: 264,
                                                                            end: 265,
                                                                        },
                                                                        value: "\n",
                                                                        raw: Some(
                                                                            "\n",
                                                                        ),
                                                                    },
                                                                ),
                                                            ],
                                                        ),
                                                        closing_fragment: JSXClosingFragment {
                                                            span: Span {
                                                                start: 0,
                                                                end: 0,
                                                            },
                                                        },
                                                    },
                                                ),
                                            },
                                        ),
                                    ],
                                ),
                            },
                            scope_id: Cell {
                                value: None,
                            },
                            expression: false,
                            async: true,
                            pure: false,
                            pife: false,
                        },
                    ),
                },
            ),
        ],
    ),
    scope_id: Cell {
        value: None,
    },
    source_type: SourceType {
        language: TypeScript,
        module_kind: Unambiguous,
        variant: Jsx,
        extension: Some(
            Ts,
        ),
    },
}

===============  Error  ===============
[]

=============== Codegen ===============
import SomeComponent from "./SomeComponent.vue";
import { motion } from "motion-v";
async () => {
	<><template>
  <SomeComponent />
  <SomeComponent />
  <Transition></Transition>
  <component></component>
  <motion.div></motion.div>
</template>

<script lang="ts" setup></script>
</>;
};


===============  Spans  ===============
Slice: "<template>\n  <SomeComponent />\n  <some-c..[OMIT]..rt { motion } from 'motion-v'\n</script>\n"; 
Span: (0, 265); 
Type: Program; 

Slice: "import SomeComponent from './SomeComponent.vue';"; 
Span: (172, 220); 
Type: ImportDeclaration; 

Slice: "SomeComponent"; 
Span: (179, 192); 
Type: ImportDefaultSpecifier; 

Slice: "SomeComponent"; 
Span: (179, 192); 
Type: BindingIdentifier; 

Slice: "'./SomeComponent.vue'"; 
Span: (198, 219); 
Type: StringLiteral; 

Slice: "import { motion } from 'motion-v'"; 
Span: (221, 254); 
Type: ImportDeclaration; 

Slice: "motion"; 
Span: (230, 236); 
Type: ImportSpecifier; 

Slice: "motion"; 
Span: (230, 236); 
Type: IdentifierName; 

Slice: "motion"; 
Span: (230, 236); 
Type: BindingIdentifier; 

Slice: "'motion-v'"; 
Span: (244, 254); 
Type: StringLiteral; 

Slice: "<template>\n  <SomeComponent />\n  <some-c..[OMIT]..\n  <motion.div></motion.div>\n</template>"; 
Span: (0, 145); 
Type: JSXElement; 

Slice: "<template>"; 
Span: (0, 10); 
Type: JSXOpeningElement; 

Slice: "template"; 
Span: (1, 9); 
Type: JSXIdentifier; 

Slice: "\n  "; 
Span: (10, 13); 
Type: JSXText; 

Slice: "<SomeComponent />"; 
Span: (13, 30); 
Type: JSXElement; 

Slice: "<SomeComponent />"; 
Span: (13, 30); 
Type: JSXOpeningElement; 

Slice: "SomeComponent"; 
Span: (14, 27); 
Type: IdentifierReference; 

Slice: "\n  "; 
Span: (30, 33); 
Type: JSXText; 

Slice: "<some-component />"; 
Span: (33, 51); 
Type: JSXElement; 

Slice: "<some-component />"; 
Span: (33, 51); 
Type: JSXOpeningElement; 

Slice: "some-component"; 
Span: (34, 48); 
Type: IdentifierReference; 

Slice: "\n  "; 
Span: (51, 54); 
Type: JSXText; 

Slice: "<Transition></Transition>"; 
Span: (54, 79); 
Type: JSXElement; 

Slice: "<Transition>"; 
Span: (54, 66); 
Type: JSXOpeningElement; 

Slice: "Transition"; 
Span: (55, 65); 
Type: IdentifierReference; 

Slice: "</Transition>"; 
Span: (66, 79); 
Type: JSXClosingElement; 

Slice: "Transition"; 
Span: (68, 78); 
Type: IdentifierReference; 

Slice: "\n  "; 
Span: (79, 82); 
Type: JSXText; 

Slice: "<component></component>"; 
Span: (82, 105); 
Type: JSXElement; 

Slice: "<component>"; 
Span: (82, 93); 
Type: JSXOpeningElement; 

Slice: "component"; 
Span: (83, 92); 
Type: IdentifierReference; 

Slice: "</component>"; 
Span: (93, 105); 
Type: JSXClosingElement; 

Slice: "component"; 
Span: (95, 104); 
Type: IdentifierReference; 

Slice: "\n  "; 
Span: (105, 108); 
Type: JSXText; 

Slice: "<motion.div></motion.div>"; 
Span: (108, 133); 
Type: JSXElement; 

Slice: "<motion.div>"; 
Span: (108, 120); 
Type: JSXOpeningElement; 

Slice: "motion.div"; 
Span: (109, 119); 
Type: JSXMemberExpression; 

Slice: "motion"; 
Span: (109, 115); 
Type: IdentifierReference; 

Slice: "div"; 
Span: (116, 119); 
Type: JSXIdentifier; 

Slice: "</motion.div>"; 
Span: (120, 133); 
Type: JSXClosingElement; 

Slice: "motion.div"; 
Span: (122, 132); 
Type: JSXMemberExpression; 

Slice: "motion"; 
Span: (109, 115); 
Type: IdentifierReference; 

Slice: "div"; 
Span: (116, 119); 
Type: JSXIdentifier; 

Slice: "\n"; 
Span: (133, 134); 
Type: JSXText; 

Slice: "</template>"; 
Span: (134, 145); 
Type: JSXClosingElement; 

Slice: "template"; 
Span: (136, 144); 
Type: JSXIdentifier; 

Slice: "\n\n"; 
Span: (145, 147); 
Type: JSXText; 

Slice: "<script lang=\"ts\" setup>\nimport SomeComp..[OMIT]..ort { motion } from 'motion-v'\n</script>"; 
Span: (147, 264); 
Type: JSXElement; 

Slice: "<script lang=\"ts\" setup>"; 
Span: (147, 171); 
Type: JSXOpeningElement; 

Slice: "script"; 
Span: (148, 154); 
Type: JSXIdentifier; 

Slice: "lang=\"ts\""; 
Span: (155, 164); 
Type: JSXAttribute; 

Slice: "lang"; 
Span: (155, 159); 
Type: JSXIdentifier; 

Slice: "ts"; 
Span: (161, 163); 
Type: StringLiteral; 

Slice: "setup"; 
Span: (165, 170); 
Type: JSXAttribute; 

Slice: "setup"; 
Span: (165, 170); 
Type: JSXIdentifier; 

Slice: "</script>"; 
Span: (255, 264); 
Type: JSXClosingElement; 

Slice: "script"; 
Span: (257, 263); 
Type: JSXIdentifier; 

Slice: "\n"; 
Span: (264, 265); 
Type: JSXText;
